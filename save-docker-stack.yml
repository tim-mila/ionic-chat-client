
ionic-chat-client-letsencrypt:
  image: 'jrcs/letsencrypt-nginx-proxy-companion:latest'
  tags:
    - ionic-chat
  volumes:
    - '/var/run/docker.sock:/var/run/docker.sock:ro'
  volumes_from:
    - ionic-chat-client-nginx-proxy

ionic-chat-client-nginx-proxy:
  image: 'jwilder/nginx-proxy:latest'
  ports:
    - '80:80'
    - '443:443'
  tags:
    - ionic-chat
  volumes:
    - /etc/nginx/vhost.d
    - /usr/share/nginx/html
    - '/var/run/docker.sock:/tmp/docker.sock:ro'
    - /etc/nginx/certs

ionic-chat-client:
  autoredeploy: true
  image: timmila/ionic-chat-client
  tags:
    - ionic-chat
  volumes:
    - "/volumes/ionic-chat-client/conf.d/:/etc/nginx/conf.d"
    - "/volumes/ionic-chat-client/html/:/usr/share/nginx/html"
  environment:
    - VIRTUAL_HOST=ionic-chat.alimmit.com
    - VIRTUAL_PORT=80
    - LETSENCRYPT_HOST=ionic-chat.alimmit.com
    - LETSENCRYPT_EMAIL=timothy.mila@gmail.com
